# Online DualPrompt method on Online Learning Setting
name: 'Online DualPrompt Hyperparameter Tuning on TinyImageNet (Periodic Gaussian)'
project: 'Comparison Algorithms Hyperparameter Tuning'
entity: 'laymond1'

method: grid
metric:
  goal: maximize
  name: A_auc
program: ./utils/online_main.py

parameters:
  model:
    values: ['online-dualprompt']
  online_scenario:
    values: ['si-blurry'] # ['si-blurry', 'periodic-gaussian']
  rnd_NM:
    value: true
  dataset:
    values: ['seq-tinyimg-224']
  validation:
    value: 0.2
  batch_size:
    value: 64
  online_iter:
    value: 3
  eval_period:
    value: 1000
  f_eval_period:
    value: 10000
  seed:
    value: 1
  optimizer:
    values: ['adam']
  lr_scheduler:
    values: ['default']
  use_amp:
    value: true
  num_workers:
    value: 4
# hyperparameters
  lr:
    # values: [5e-3, 1e-3, 5e-4, 1e-4, 5e-5, 1e-5]
    values: [5e-4]
  buffer_size:
    values: [0]
  same_key_value:
    value: False
  # pull_constraint_coeff:
  #   values: [0.0, 0.1, 0.5, 1.0]
  # top_k:
  #   values: [1, 5]
  
  
# CUDA_VISIBLE_DEVICES=0 wandb agent 'laymond1/Comparison Algorithms Hyperparameter Tuning/vv7ghrh7'
# CUDA_VISIBLE_DEVICES=1 wandb agent 'laymond1/Comparison Algorithms Hyperparameter Tuning/vv7ghrh7'